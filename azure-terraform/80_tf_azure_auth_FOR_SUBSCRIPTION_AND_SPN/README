cloud shell run 
az ad sp create-for-rbac -n terraform-5269-spn

output 

In a future release, this command will NOT create a 'Contributor' role assignment by default. If needed, use the --role argument to explicitly create a role assignment.
Creating 'Contributor' role assignment under scope '/subscriptions/b312c3d5-5b7c-4ab6-ae52-2b3a94b9c232'
The output includes credentials that you must protect. Be sure that you do not include these credentials in your code or check the credentials into your source control. For more information, see https://aka.ms/azadsp-cli
'name' property in the output is deprecated and will be removed in the future. Use 'appId' instead.

note the /subscriptions/b312c3d5-5b7c-4ab6-ae52-2b3a94b9c232 - this is your subscription ID

plust teh following 

{
  "appId": "68aad817-b4d7-4642-bbab-825637fdfd54",
  "displayName": "terraform-5269-spn",
  "name": "68aad817-b4d7-4642-bbab-825637fdfd54",
  "password": "s~7bWp5MCk5xBwSdPbjaDnESZJi23jQnZi",
  "tenant": "d4cfe037-3ef4-42d7-a3f8-74f292af0782"
}
navigate to AZure AD and then app registrations  >all applications  > you should see an SPN called terraform-5269-spn

then click on your subscription > IAM access control >role assignments you shoudl see this SPN as well 

so in your main.tf 

so in the main.tf 

provider "azurerm" {
  features {}

  subscription_id = "b312c3d5-5b7c-4ab6-ae52-2b3a94b9c232" = subscription_id
  client_id       = "68aad817-b4d7-4642-bbab-825637fdfd54" = appid from above 
  client_secret   = "s~7bWp5MCk5xBwSdPbjaDnESZJi23jQnZi" = password from above 
  tenant_id       = "d4cfe037-3ef4-42d7-a3f8-74f292af0782" = tenant from above 
}


copy and paste this back into your main.tf 


make sure to log out of your AZ account!! 

az logout !!!

terraform init 
terraform plan 
terraform apply 

no login required!!!!
